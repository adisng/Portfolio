<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aditya Singh | Creative Developer</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Three.js for 3D Elements -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- GSAP for High-End Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CORE AESTHETICS --- */
        :root {
            --bg-color: #010103; /* Darker, Void Black */
            --accent-primary: #5b21b6; /* Deep Violet */
            --accent-secondary: #2dd4bf; /* Teal/Cyan */
            --text-primary: #e2e8f0;
            --text-secondary: #64748b;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            font-family: 'Space Grotesk', sans-serif;
            overflow-x: hidden;
            cursor: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- CUSTOM CURSOR (Desktop Only) --- */
        #cursor-dot, #cursor-ring {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
        }

        #cursor-dot {
            width: 6px;
            height: 6px;
            background: var(--accent-secondary);
            box-shadow: 0 0 10px var(--accent-secondary);
        }

        #cursor-ring {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s cubic-bezier(0.25, 1, 0.5, 1);
        }

        body.hovering #cursor-ring {
            width: 60px;
            height: 60px;
            background-color: rgba(45, 212, 191, 0.05);
            border-color: var(--accent-secondary);
        }

        body.hovering #cursor-dot {
            opacity: 0;
        }

        /* Disable custom cursor on touch devices */
        @media (hover: none) and (pointer: coarse) {
            #cursor-dot, #cursor-ring { display: none !important; }
            body { cursor: auto; }
            .magnetic { cursor: pointer; }
        }

        /* --- 3D CANVAS --- */
        #webgl-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            opacity: 0.4;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, .font-syncopate {
            font-family: 'Syncopate', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .gradient-text-color {
            background: linear-gradient(135deg, var(--text-primary) 0%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .gradient-accent {
            background: linear-gradient(135deg, var(--accent-secondary) 0%, var(--accent-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* --- GLASS COMPONENTS --- */
        .glass-panel {
            background: rgba(10, 10, 15, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-panel:hover {
            background: rgba(15, 15, 25, 0.6);
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }

        /* --- AI CHAT WIDGET --- */
        #ai-widget-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background: rgba(10, 10, 15, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 90;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(91, 33, 182, 0.2);
        }

        #ai-widget-btn:hover {
            transform: scale(1.1);
            border-color: var(--accent-secondary);
            box-shadow: 0 0 30px rgba(45, 212, 191, 0.3);
        }

        #ai-chat-window {
            position: fixed;
            bottom: 6.5rem;
            right: 5vw; /* Responsive right */
            width: 90vw; /* Responsive width */
            max-width: 350px;
            height: 0;
            opacity: 0;
            overflow: hidden;
            background: rgba(5, 5, 8, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 20px;
            z-index: 90;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            pointer-events: none;
        }

        @media (min-width: 768px) {
            #ai-chat-window {
                right: 2rem;
                width: 350px;
            }
        }

        #ai-chat-window.open {
            height: 500px;
            max-height: 70vh; /* Don't cover full screen on small phones */
            opacity: 1;
            pointer-events: all;
        }

        /* --- MARQUEE --- */
        .marquee-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            background: rgba(255,255,255,0.01);
            border-top: 1px solid rgba(255,255,255,0.03);
            border-bottom: 1px solid rgba(255,255,255,0.03);
            padding: 1rem 0;
        }

        .marquee-content {
            display: flex;
            animation: scrolling 30s linear infinite;
        }

        .marquee-item {
            font-family: 'Syncopate', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: rgba(255,255,255,0.05);
            white-space: nowrap;
            padding: 0 1rem;
            transition: color 0.3s;
        }

        @media (min-width: 768px) {
            .marquee-item { font-size: 1.5rem; padding: 0 2rem; }
            .marquee-container { padding: 1.5rem 0; }
        }

        .marquee-container:hover .marquee-item {
            color: var(--accent-secondary);
            opacity: 0.5;
        }

        @keyframes scrolling {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- NAVIGATION --- */
        .nav-link {
            position: relative;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-secondary);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent-secondary);
            transition: width 0.3s ease;
        }

        .nav-link:hover { color: white; }
        .nav-link:hover::after { width: 100%; }

        /* --- MOBILE MENU --- */
        #mobile-menu {
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* --- GRAIN --- */
        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9000;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body class="selection:bg-teal-500 selection:text-black">

    <!-- NOISE OVERLAY -->
    <div class="grain-overlay"></div>

    <!-- CUSTOM CURSOR -->
    <div id="cursor-dot"></div>
    <div id="cursor-ring"></div>

    <!-- 3D BACKGROUND -->
    <div id="webgl-container"></div>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu" class="fixed inset-0 bg-[#010103]/98 backdrop-blur-xl z-50 transform translate-x-full flex flex-col justify-center items-center gap-8 text-center">
        <div class="absolute top-6 right-6 p-2" onclick="toggleMobileMenu()">
            <i data-lucide="x" class="w-8 h-8 text-white cursor-pointer"></i>
        </div>
        <a href="#about" class="text-3xl font-syncopate uppercase tracking-widest text-white/80 hover:text-teal-400 transition-colors" onclick="toggleMobileMenu()">About</a>
        <a href="#experience" class="text-3xl font-syncopate uppercase tracking-widest text-white/80 hover:text-teal-400 transition-colors" onclick="toggleMobileMenu()">Experience</a>
        <a href="#certifications" class="text-3xl font-syncopate uppercase tracking-widest text-white/80 hover:text-teal-400 transition-colors" onclick="toggleMobileMenu()">Certifications</a>
        <div class="w-16 h-[1px] bg-white/10 my-4"></div>
        <a href="mailto:www.adisng@gmail.com" class="text-sm font-mono text-gray-400 hover:text-white">www.adisng@gmail.com</a>
    </div>

    <!-- HEADER -->
    <header class="fixed top-0 w-full z-40 px-6 py-6 transition-all duration-300 bg-gradient-to-b from-[#010103] via-[#010103]/80 to-transparent">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <a href="#" class="magnetic z-50 group">
                <div class="font-bold text-xl tracking-widest relative">
                    ADITYA<span class="text-teal-400">.</span>
                </div>
            </a>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex gap-10">
                <a href="#about" class="magnetic nav-link">About</a>
                <a href="#experience" class="magnetic nav-link">Experience</a>
                <a href="#certifications" class="magnetic nav-link">Certifications</a>
            </nav>

            <div class="flex items-center gap-4">
                <a href="mailto:www.adisng@gmail.com" class="magnetic hidden md:block">
                    <div class="px-6 py-2 border border-white/10 rounded-full hover:bg-white hover:text-black transition-all duration-300 text-xs tracking-widest uppercase font-bold">
                        Contact
                    </div>
                </a>
                <!-- Mobile Menu Button -->
                <button class="md:hidden text-white p-2" onclick="toggleMobileMenu()">
                    <i data-lucide="menu" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section id="about" class="relative min-h-screen flex items-center justify-center px-6 pt-20 md:pt-0 overflow-hidden">
        <div class="relative z-10 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="order-2 lg:order-1">
                <!-- AWS Status Pill -->
                <div class="mb-6 inline-flex items-center gap-3 px-4 py-2 border border-white/5 rounded-full bg-white/5 backdrop-blur-md max-w-full">
                    <span class="relative flex h-2 w-2 flex-shrink-0">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
                    </span>
                    <span class="text-[10px] md:text-xs font-mono tracking-widest uppercase text-gray-400 truncate">
                        Current Mission: AWS Cloud Practitioner
                    </span>
                </div>
                
                <h1 class="text-5xl sm:text-6xl md:text-8xl font-bold leading-tight mb-6 text-white">
                    ADITYA<br>
                    <span class="gradient-accent" id="hero-text">SINGH</span>
                </h1>
                
                <div class="relative max-w-md mb-10">
                    <p id="bio-text" class="text-gray-400 text-base md:text-lg leading-relaxed font-light transition-opacity duration-300">
                        Aditya Singh. I craft immersive digital experiences at the intersection of <span class="text-white">Art</span> and <span class="text-white">Engineering</span>.
                    </p>
                    
                    <!-- AI Feature: Bio Remix -->
                    <button onclick="remixBio()" class="magnetic absolute -right-4 top-0 p-2 text-teal-400 hover:text-white transition-colors opacity-70 hover:opacity-100" title="Remix Bio with AI">
                        <span class="text-lg">✨</span>
                    </button>
                    <div id="bio-loader" class="hidden absolute top-0 left-0 w-full h-full bg-[#010103]/90 flex items-center justify-center backdrop-blur-sm rounded">
                        <span class="text-xs font-mono text-teal-400 animate-pulse">REMIXING...</span>
                    </div>
                </div>

                <div class="flex flex-wrap gap-4 items-center">
                    <a href="#experience" class="magnetic px-8 py-4 bg-white text-black rounded-full text-sm font-bold tracking-widest hover:scale-105 transition-transform duration-300">
                        EXPLORE
                    </a>
                    <div class="flex gap-2 ml-4">
                        <a href="https://github.com/adisng" target="_blank" class="magnetic p-3 text-gray-400 hover:text-white transition-colors">
                            <i data-lucide="github" class="w-5 h-5"></i>
                        </a>
                        <a href="https://linkedin.com/in/patialapapi03" target="_blank" class="magnetic p-3 text-gray-400 hover:text-white transition-colors">
                            <i data-lucide="linkedin" class="w-5 h-5"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- 3D Layout Spacer -->
            <div class="order-1 lg:order-2 h-[250px] lg:h-full pointer-events-none w-full"></div>
        </div>
        
        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-30 pointer-events-none">
            <span class="text-[10px] uppercase tracking-[0.3em]">Scroll</span>
            <div class="w-[1px] h-12 bg-gradient-to-b from-white to-transparent"></div>
        </div>
    </section>

    <!-- MARQUEE SECTION -->
    <div class="marquee-container">
        <div class="marquee-content">
            <span class="marquee-item">PYTHON</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">REACT.JS</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">AWS CLOUD</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">MACHINE LEARNING</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">BIG DATA</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">PYTHON</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">REACT.JS</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">AWS CLOUD</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">MACHINE LEARNING</span>
            <span class="marquee-item">///</span>
            <span class="marquee-item">BIG DATA</span>
            <span class="marquee-item">///</span>
        </div>
    </div>

    <!-- EXPERIENCE SECTION -->
    <section id="experience" class="py-20 md:py-32 px-6 relative">
        <div class="max-w-5xl mx-auto">
            <div class="flex items-end justify-between mb-16 md:mb-20">
                <h2 class="text-3xl md:text-5xl font-bold text-white">Experience</h2>
                <div class="h-[1px] flex-1 bg-white/10 ml-8 mb-2"></div>
            </div>

            <!-- Single Experience Item -->
            <div class="glass-panel p-6 md:p-10 group relative overflow-hidden magnetic-card">
                <div class="absolute top-0 right-0 w-64 h-64 bg-teal-900/20 rounded-full blur-[80px] group-hover:bg-teal-800/30 transition-all duration-500"></div>
                
                <div class="relative z-10 flex flex-col md:flex-row gap-8 justify-between">
                    <div>
                        <div class="flex flex-wrap items-center gap-3 mb-2">
                            <h3 class="text-xl md:text-2xl font-bold text-white">Web Developer Intern</h3>
                            <span class="px-2 py-1 border border-teal-500/30 bg-teal-500/10 text-teal-400 text-[10px] uppercase font-bold tracking-wider rounded">Abstract</span>
                        </div>
                        <p class="text-gray-500 font-mono text-xs mb-6">Jan 2025 - Apr 2025</p>
                        <p class="text-gray-400 leading-relaxed max-w-xl text-sm md:text-base">
                            Built and maintained responsive websites using HTML, CSS, and JavaScript. Collaborated with teams to deliver projects on time and improved website performance through optimization strategies.
                        </p>
                    </div>
                    <div class="flex flex-wrap md:flex-col gap-2 justify-start md:justify-center">
                        <span class="px-3 py-1 bg-white/5 rounded-full text-xs text-gray-400 border border-white/5 whitespace-nowrap">HTML/CSS</span>
                        <span class="px-3 py-1 bg-white/5 rounded-full text-xs text-gray-400 border border-white/5 whitespace-nowrap">JavaScript</span>
                        <span class="px-3 py-1 bg-white/5 rounded-full text-xs text-gray-400 border border-white/5 whitespace-nowrap">Optimization</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CERTIFICATIONS SECTION -->
    <section id="certifications" class="py-20 md:py-32 px-6 bg-[#020204]">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-end justify-between mb-16 md:mb-20">
                <h2 class="text-3xl md:text-5xl font-bold text-white">Certifications</h2>
                <div class="h-[1px] flex-1 bg-white/10 ml-8 mb-2"></div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <!-- Cert 1 -->
                <div class="glass-panel p-6 md:p-8 hover:border-orange-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="cloud" class="w-8 h-8 text-orange-500 group-hover:text-orange-400 transition-colors"></i>
                        <span class="text-[10px] uppercase tracking-widest text-gray-500 border border-white/10 px-2 py-1 rounded">Job Sim</span>
                    </div>
                    <h3 class="text-lg md:text-xl font-bold mb-2">AWS Solutions Architecture</h3>
                    <p class="text-gray-500 text-sm">Design scalable, reliable, and cost-efficient systems on AWS.</p>
                </div>

                <!-- Cert 2 -->
                <div class="glass-panel p-6 md:p-8 hover:border-blue-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="database" class="w-8 h-8 text-blue-500 group-hover:text-blue-400 transition-colors"></i>
                        <span class="text-[10px] uppercase tracking-widest text-gray-500 border border-white/10 px-2 py-1 rounded">Level 1</span>
                    </div>
                    <h3 class="text-lg md:text-xl font-bold mb-2">Big Data Foundations</h3>
                    <p class="text-gray-500 text-sm">Core concepts of Big Data handling and processing.</p>
                </div>

                <!-- Cert 3 -->
                <div class="glass-panel p-6 md:p-8 hover:border-purple-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="brain" class="w-8 h-8 text-purple-500 group-hover:text-purple-400 transition-colors"></i>
                        <span class="text-[10px] uppercase tracking-widest text-gray-500 border border-white/10 px-2 py-1 rounded">Fundamentals</span>
                    </div>
                    <h3 class="text-lg md:text-xl font-bold mb-2">Machine Learning & AI</h3>
                    <p class="text-gray-500 text-sm">Understanding ML algorithms and AI implementation strategies.</p>
                </div>

                <!-- Cert 4 -->
                <div class="glass-panel p-6 md:p-8 hover:border-green-500/30 transition-all group">
                    <div class="flex justify-between items-start mb-4">
                        <i data-lucide="code" class="w-8 h-8 text-green-500 group-hover:text-green-400 transition-colors"></i>
                        <span class="text-[10px] uppercase tracking-widest text-gray-500 border border-white/10 px-2 py-1 rounded">Job Sim</span>
                    </div>
                    <h3 class="text-lg md:text-xl font-bold mb-2">Datacom Software Dev</h3>
                    <p class="text-gray-500 text-sm">Practical software development simulation experience.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-20 px-6 border-t border-white/5 relative overflow-hidden">
        <div class="max-w-7xl mx-auto text-center relative z-10">
            <h2 class="text-4xl md:text-6xl font-bold mb-12 text-white/20 hover:text-white/40 transition-colors cursor-default">
                ADITYA SINGH
            </h2>
            
            <div class="flex justify-center gap-8 mb-12">
                <a href="mailto:www.adisng@gmail.com" class="magnetic text-xs md:text-sm uppercase tracking-widest text-gray-500 hover:text-teal-400 transition-colors">Email</a>
                <a href="https://linkedin.com/in/patialapapi03" target="_blank" class="magnetic text-xs md:text-sm uppercase tracking-widest text-gray-500 hover:text-teal-400 transition-colors">LinkedIn</a>
                <a href="https://github.com/adisng" target="_blank" class="magnetic text-xs md:text-sm uppercase tracking-widest text-gray-500 hover:text-teal-400 transition-colors">GitHub</a>
            </div>
            
            <div class="text-[10px] font-mono text-gray-700 flex justify-between items-center border-t border-white/5 pt-8">
                <span>© 2025 ALL RIGHTS RESERVED</span>
                <span>INDIA</span>
            </div>
        </div>
    </footer>

    <!-- AI ASSISTANT LOGO BUTTON -->
    <div id="ai-widget-btn" class="magnetic">
        <i data-lucide="bot" class="w-6 h-6 text-teal-400"></i>
    </div>

    <!-- AI CHAT WINDOW -->
    <div id="ai-chat-window">
        <div class="p-4 border-b border-white/10 flex justify-between items-center bg-black/40">
            <div class="text-xs font-mono font-bold text-teal-400 flex items-center gap-2">
                <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                AI_ASSISTANT
            </div>
            <i data-lucide="x" class="w-4 h-4 text-gray-500 hover:text-white cursor-pointer" id="close-chat"></i>
        </div>
        
        <div class="h-[380px] overflow-y-auto p-4 flex flex-col gap-3" id="chat-messages">
            <div class="self-start bg-white/5 p-3 rounded-lg rounded-tl-none border border-white/5 max-w-[85%]">
                <p class="text-xs text-gray-300 leading-relaxed">
                    Hello. I am Aditya's AI Assistant. I can tell you about his skills, experience at Abstract, or his AWS journey.
                </p>
            </div>
        </div>

        <div class="p-3 bg-black/60 border-t border-white/10 absolute bottom-0 w-full">
            <div class="relative">
                <input type="text" id="ai-input" class="w-full bg-white/5 border border-white/10 rounded-full py-2 px-4 text-xs text-white placeholder-gray-600 outline-none focus:border-teal-500/50 transition-colors" placeholder="Ask something..." autocomplete="off">
                <button id="send-btn" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-teal-400 transition-colors">
                    <i data-lucide="send" class="w-3 h-3"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        // --- API CONFIGURATION ---
        const apiKey = ""; // Set by runtime environment

        // --- 1. INITIALIZE ICONS ---
        lucide.createIcons();

        // --- 2. MOBILE MENU ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('translate-x-full');
        }

        // --- 3. CUSTOM MAGNETIC CURSOR ---
        const cursorDot = document.getElementById('cursor-dot');
        const cursorRing = document.getElementById('cursor-ring');
        const magneticElements = document.querySelectorAll('.magnetic');
        
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;
        let ringX = 0, ringY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        gsap.ticker.add(() => {
            // Only animate if cursor is visible (not on touch)
            if (window.matchMedia("(hover: hover) and (pointer: fine)").matches) {
                cursorX += (mouseX - cursorX) * 0.2;
                cursorY += (mouseY - cursorY) * 0.2;
                ringX += (mouseX - ringX) * 0.1;
                ringY += (mouseY - ringY) * 0.1;

                gsap.set(cursorDot, { x: cursorX, y: cursorY });
                gsap.set(cursorRing, { x: ringX, y: ringY });
            }
        });

        magneticElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                if (window.matchMedia("(hover: hover)").matches) {
                    document.body.classList.add('hovering');
                    gsap.to(cursorRing, { scale: 1.5, duration: 0.3 });
                }
            });
            el.addEventListener('mouseleave', () => {
                if (window.matchMedia("(hover: hover)").matches) {
                    document.body.classList.remove('hovering');
                    gsap.to(cursorRing, { scale: 1, duration: 0.3 });
                    gsap.to(el, { x: 0, y: 0, duration: 0.5 });
                }
            });
            el.addEventListener('mousemove', (e) => {
                if (window.matchMedia("(hover: hover)").matches) {
                    const rect = el.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    gsap.to(el, { x: x * 0.3, y: y * 0.3, duration: 0.2 });
                }
            });
        });

        // --- 4. THREE.JS 3D BACKGROUND ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x010103, 0.0025);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Limit pixel ratio for performance
        document.getElementById('webgl-container').appendChild(renderer.domElement);

        // Responsive particle count
        const isMobile = window.innerWidth < 768;
        const particlesCount = isMobile ? 600 : 1200; 
        
        const particlesGeometry = new THREE.BufferGeometry();
        const posArray = new Float32Array(particlesCount * 3);
        
        for(let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 50; 
        }
        
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        
        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.03,
            color: 0x5b21b6, 
            transparent: true,
            opacity: 0.8,
        });

        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        camera.position.z = 15;

        // Mouse Interaction
        let targetX = 0;
        let targetY = 0;
        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            targetX = (event.clientX - windowHalfX) * 0.0005;
            targetY = (event.clientY - windowHalfY) * 0.0005;
        });

        const clock = new THREE.Clock();

        function animate() {
            const elapsedTime = clock.getElapsedTime();
            particlesMesh.rotation.y = elapsedTime * 0.05;
            particlesMesh.rotation.x = targetY * 2;
            particlesMesh.rotation.y += targetX * 2;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- 5. AI CHAT LOGIC ---
        const widgetBtn = document.getElementById('ai-widget-btn');
        const chatWindow = document.getElementById('ai-chat-window');
        const closeChat = document.getElementById('close-chat');
        const aiInput = document.getElementById('ai-input');
        const sendBtn = document.getElementById('send-btn');
        const chatMessages = document.getElementById('chat-messages');

        const context = `
            You are the AI Assistant for Aditya Singh.
            Role: Help visitors understand Aditya's profile.
            Facts:
            - Experience: Web Developer Intern at Abstract (Jan 2025 - Apr 2025). Built responsive sites, optimized performance.
            - Certifications: AWS Solutions Architecture (Job Sim), Big Data Foundations, Machine Learning & AI, Datacom Software Dev.
            - Current Goal: Learning AWS Cloud Practitioner.
            - Skills: Python, JavaScript, HTML/CSS, React, AWS, Machine Learning.
            - Contact: www.adisng@gmail.com.
            Tone: Professional, mysterious, high-tech. Keep answers short (under 50 words).
        `;

        function toggleChat() {
            chatWindow.classList.toggle('open');
        }

        widgetBtn.addEventListener('click', toggleChat);
        closeChat.addEventListener('click', toggleChat);

        async function sendMessage() {
            const text = aiInput.value.trim();
            if (!text) return;

            addMessage(text, 'user');
            aiInput.value = '';

            const loadingId = addMessage('...', 'ai');

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            role: "user",
                            parts: [{ text: context + "\nVisitor: " + text }]
                        }]
                    })
                });
                
                const data = await response.json();
                const reply = data.candidates[0].content.parts[0].text;
                
                document.getElementById(loadingId).remove();
                addMessage(reply, 'ai');

            } catch (error) {
                document.getElementById(loadingId).remove();
                addMessage("Connection interrupted.", 'ai');
            }
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            const id = Math.random().toString(36).substr(2, 9);
            div.id = id;
            
            if (sender === 'user') {
                div.className = "self-end bg-teal-500/10 border border-teal-500/20 p-3 rounded-lg rounded-tr-none max-w-[85%]";
                div.innerHTML = `<p class="text-xs text-white">${text}</p>`;
            } else {
                div.className = "self-start bg-white/5 border border-white/5 p-3 rounded-lg rounded-tl-none max-w-[85%]";
                div.innerHTML = `<p class="text-xs text-gray-300 leading-relaxed">${text}</p>`;
            }
            
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return id;
        }

        sendBtn.addEventListener('click', sendMessage);
        aiInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // --- 6. BIO REMIX ---
        async function remixBio() {
            const bioText = document.getElementById('bio-text');
            const bioLoader = document.getElementById('bio-loader');
            
            bioLoader.classList.remove('hidden');
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: `Rewrite this short bio in a dark, mysterious, and high-tech style. Max 20 words. Bio: "Aditya Singh. I craft immersive digital experiences at the intersection of Art and Engineering."` }]
                        }]
                    })
                });
                
                const data = await response.json();
                const newBio = data.candidates[0].content.parts[0].text;
                
                bioText.style.opacity = 0;
                setTimeout(() => {
                    bioText.innerText = newBio.replace(/['"]+/g, '');
                    bioText.style.opacity = 1;
                    bioLoader.classList.add('hidden');
                }, 300);
            } catch (e) {
                bioLoader.classList.add('hidden');
            }
        }

        // --- 7. SCROLL ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);
        gsap.utils.toArray('section').forEach(section => {
            gsap.from(section.children, {
                opacity: 0,
                y: 50,
                duration: 1,
                stagger: 0.2,
                scrollTrigger: {
                    trigger: section,
                    start: "top 85%",
                    toggleActions: "play none none reverse"
                }
            });
        });

    </script>
</body>
</html>
